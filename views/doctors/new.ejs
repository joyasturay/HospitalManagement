<% layout('layouts/boilerplate.ejs') -%>
<body>
    <h1 class="text-center ">New Doctor</h1>

    <div class="row mt-3">
    <div class="col-8 offset-2">
    <form action="/hospitals/<%= hospital._id %>/doctors" method="POST" novalidate class="needs-validation">
        <div>
            <label for="name" class="form-label">Name:</label>
            <input type="text" id="name" name="name"  class="form-control" required>
        </div>
        <div>
            <label for="specialization" class="form-label">Specialization:</label>
            <input type="text" id="specialization" name="specialization"  class="form-control" required>
        </div>
        <div>
            <label for="experience" class="form-label">Experience (years):</label>
            <input type="number" id="experience" name="experience"  class="form-control" required>
        </div>
        <div>
            <label for="availableAppointments" class="form-label">Available Appointments</label>
            <input type="text" id="availableAppointments" name="availableAppointments"  class="form-control">
        </div>
        <div>
            <label for="contactInfo" class="form-label">Contact Info:</label>
            <input type="text" id="contactInfo" name="contactInfo"  class="form-control">
        </div>


        <div>
            <label for="fees" class="form-label">Fees</label>
            <input type="text" id="fees" name="fees"  class="form-control">
        </div>

        <div>
            <label for="image" class="form-label">Image</label>
            <input type="text" id="image" name="image"  class="form-control">
        </div>


        <button type="submit" class="btn btn-primary mt-3 mb-3">Add Doctor</button>
    </form>
    </div>
    </div>
  
</body>


<script>
    document.querySelector('form').addEventListener('submit', function(event) {
        const input = document.getElementById('availableAppointments');
        const dates = input.value.split(',').map(date => date.trim());
        const invalidDates = dates.filter(dateStr => isNaN(new Date(dateStr).getTime()));
    
        if (invalidDates.length > 0) {
            alert('Some dates are invalid: ' + invalidDates.join(', '));
            event.preventDefault(); 
        }
    });
</script>
    
